{"version":3,"file":"main.js","sourceRoot":"","sources":["../../../src/main.ts","../../../src/com/gameclosure/components/positionable.ts","../../../src/com/gameclosure/components/display/displayable.ts","../../../src/com/gameclosure/pool/reusable.ts","../../../src/com/gameclosure/components/updatable.ts","../../../src/com/gameclosure/components/baseComponent.ts","../../../src/com/gameclosure/components/display/DisplayComponent.ts","../../../src/com/gameclosure/components/display/imageDisplayComponent.ts","../../../src/com/gameclosure/factories/display/displayableFactory.ts","../../../src/com/gameclosure/views/view.ts","../../../src/com/gameclosure/router/routerOption.ts","../../../src/com/gameclosure/factories/imageFactory.ts","../../../src/com/adventurecapitalist/views/intro.ts","../../../src/com/gameclosure/router/router.ts","../../../src/com/gameclosure/store/iState.ts","../../../src/com/gameclosure/store/iStore.ts","../../../src/com/gameclosure/store/storeable.ts","../../../src/com/gameclosure/store/store.ts","../../../src/com/gameclosure/utils/asset.ts","../../../src/com/gameclosure/game.ts","../../../src/com/gameclosure/factories/display/displayComponentFactory.ts","../../../src/com/adventurecapitalist/store/companyState.ts","../../../src/com/adventurecapitalist/store/gameState.ts","../../../src/com/adventurecapitalist/components/display/company/investmentLogoButton.ts","../../../src/com/gameclosure/utils/graphicsUtil.ts","../../../src/com/gameclosure/utils/money.ts","../../../src/com/adventurecapitalist/components/display/company/investmentProgressBar.ts","../../../src/com/adventurecapitalist/components/display/company/investmentBuyButton.ts","../../../src/com/adventurecapitalist/components/display/company/investmentTimer.ts","../../../src/com/adventurecapitalist/components/display/company/buyButton.ts","../../../src/com/adventurecapitalist/components/display/company/hireManagerButton.ts","../../../src/com/adventurecapitalist/components/display/company/companyItem.ts","../../../src/com/gameclosure/utils/scrollContainer.ts","../../../src/com/adventurecapitalist/views/companies.ts","../../../src/com/adventurecapitalist/views/managers.ts","../../../src/com/adventurecapitalist/managers/companyManager.ts","../../../src/com/gameclosure/store/localStore.ts","../../../src/com/adventurecapitalist/adventureCapitalist.ts","../../../src/com/gameclosure/events/events.ts","../../../src/com/gameclosure/pool/pool.ts"],"names":[],"mappings":";;;;;;;;;;AACA,SAAS,CAAC,MAAM,CAAC;IACb,GAAG,EAAE;QACD,GAAG,EAAE;YACD,SAAS,EAAE,aAAa;YACxB,MAAM,EAAE,iBAAiB;YACzB,YAAY,EAAE,4BAA4B;SAC7C;KACJ;CACJ,CAAC,CAAC;AAEH,OAAO,CAAC,CAAC,SAAS,EAAE,MAAM,EAAE,YAAY,CAAC,EAAE;IACvC,OAAO,CAAC,CAAC,6CAA6C,CAAC,EAAE,UAAS,mBAAwB;QACtF,IAAI,mBAAmB,CAAC,mBAAmB,EAAE,CAAC;IAClD,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;IKZH,MAAa,aAAc,SAAQ,IAAI,CAAC,KAAK,CAAC,YAAY;QAMtD,YAAY,EAAU;YAClB,KAAK,EAAE,CAAC;YAER,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,EAAiB,CAAC;QAChD,CAAC;QAED,IAAI,EAAE;YACF,OAAO,IAAI,CAAC,GAAG,CAAC;QACpB,CAAC;QAED,IAAI,MAAM;YACN,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QAEM,MAAM;YACT,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClC,SAAS,CAAC,MAAM,EAAE,CAAC;aACtB;QACL,CAAC;QAEM,KAAK;YACR,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClC,SAAS,CAAC,KAAK,EAAE,CAAC;aACrB;YAED,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,EAAiB,CAAC;QAChD,CAAC;QAEM,GAAG,CAAC,SAAwB;YAC/B,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAEM,MAAM,CAAC,SAAwB;YAClC,IAAI,KAAK,GAAW,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAEtD,IAAI,KAAK,IAAI,CAAC,EAAE;gBACZ,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACnC;QACL,CAAC;QAEM,QAAQ;YACX,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;KACJ;IAnDD,sCAmDC;;;;;IClDD,MAAa,gBAAiB,SAAQ,6BAAa;QAK/C,YAAY,EAAW,EAAE,OAAmB;YACxC,KAAK,CAAC,EAAE,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;YAE1B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YAExB,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,mBAAS,EAAE,CAAC;aACnC;YAED,IAAI,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC;QAES,IAAI;QAEd,CAAC;QAED,IAAW,EAAE;YACT,OAAO,IAAI,CAAC,GAAG,CAAC;QACpB,CAAC;QAEM,KAAK;YACR,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxB,CAAC;QAEM,GAAG,CAAC,SAA2B;YAClC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAErB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC;QAEM,MAAM,CAAC,SAA2B;YACrC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAExB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAChD,CAAC;QAED,IAAI,CAAC,CAAC,CAAS;YACX,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAEZ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACvB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;aACvB;QACL,CAAC;QAED,IAAI,CAAC;YACD,OAAO,IAAI,CAAC,EAAE,CAAC;QACnB,CAAC;QAED,IAAI,CAAC,CAAC,CAAS;YACX,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAEZ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACvB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;aACvB;QACL,CAAC;QAED,IAAI,CAAC;YACD,OAAO,IAAI,CAAC,EAAE,CAAC;QACnB,CAAC;QAEM,QAAQ,CAAC,CAAS,EAAE,CAAS;YAChC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACf,CAAC;QAED,IAAW,OAAO,CAAC,OAAkB;YACjC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAC5B,CAAC;QAED,IAAW,OAAO;YACd,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;KACJ;IA7ED,4CA6EC;;;;;IC9ED,MAAa,qBAAsB,SAAQ,mCAAgB;QACvD,YAAY,OAAe;YACvB,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACjC,CAAC;KACJ;IAJD,sDAIC;;;;;;;;;IEJD,MAAa,IAAK,SAAQ,mCAAgB;QACtC,YAAY,EAAW,EAAE,SAAqB;YAC1C,KAAK,CAAC,EAAE,EAAE,SAAS,IAAI,IAAI,mBAAS,EAAE,CAAC,CAAC;QAC5C,CAAC;QAEM,IAAI;YACP,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;YAE5B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC;QAEM,IAAI;YACP,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAEM,OAAO;YACV,IAAI,CAAC,KAAK,EAAE,CAAC;YAEb,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,EAAE;gBAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACnD;YAED,OAAO,IAAI,CAAC,QAAQ,CAAC;YAErB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;QACxC,CAAC;KACJ;IA3BD,oBA2BC;;;;;IC5BD,IAAY,gBAAyC;IAArD,WAAY,gBAAgB;QAAG,2DAAU,CAAA;QAAE,yDAAS,CAAA;IAAA,CAAC,EAAzC,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAAyB;IAAA,CAAC;IAEtD,MAAa,YAAY;KAOxB;IAPD,oCAOC;;;;;ICTD,MAAa,YAAY;QACd,QAAQ,CAAC,EAAU;YACtB,OAAO,IAAI,gBAAM,CAAC,iBAAO,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7C,CAAC;KACJ;IAJD,oCAIC;;;;;ICAD,MAAa,KAAM,SAAQ,WAAI;QAC3B;YACI,KAAK,CAAC,OAAO,CAAC,CAAC;QACnB,CAAC;QAEM,IAAI;YACP,KAAK,CAAC,IAAI,EAAE,CAAC;YAEb,IAAI,UAAU,GAAa,IAAI,kBAAQ,EAAE,CAAC;YAC1C,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAC/B,UAAU,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,WAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,WAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrE,UAAU,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAElC,IAAI,IAAI,GAAW,WAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACtD,IAAI,CAAC,CAAC,GAAG,CAAC,WAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAChD,IAAI,CAAC,CAAC,GAAG,CAAC,WAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAE5B,IAAI,aAAa,GAAW,WAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;YACxE,aAAa,CAAC,KAAK,GAAG,IAAI,eAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAC1C,aAAa,CAAC,CAAC,GAAG,CAAC,WAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAClE,aAAa,CAAC,CAAC,GAAG,CAAC,WAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACpE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YAErC,IAAI,QAAQ,GAAiB,IAAI,YAAY,EAAE,CAAC;YAChD,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;YAC/C,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;YACzD,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YAC/D,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YAC5D,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;YAChE,QAAQ,CAAC,IAAI,EAAE,CAAC;YAEhB,QAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,GAAG,EAAE;gBACtC,WAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;QACP,CAAC;KACJ;IArCD,sBAqCC;;;;;ICtCD,MAAa,MAAM;QAOf,YAAY,SAAoB,EAAE,YAA4B;YAC1D,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACtC,CAAC;QAEM,IAAI;YACP,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,MAAoB,EAAE,EAAE;gBAChD,IAAI,MAAM,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBACvB,OAAO;iBACV;YACL,CAAC,CAAC,CAAA;QACN,CAAC;QAEM,MAAM;YACT,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;gBAC5B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;aAC5C;QACL,CAAC;QAEM,IAAI,CAAC,IAAY;YACpB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE;gBACzB,IAAI,WAAW,GAAiB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;gBAEhE,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;oBAC/D,IAAI,WAAW,CAAC,IAAI,IAAI,+BAAgB,CAAC,KAAK,EAAE;wBAC5C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;wBACzC,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;wBAEjC,IAAI,CAAC,WAAW,EAAE,CAAC;qBACtB;yBAAM;wBACH,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;wBAC9B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;qBAC1C;iBACJ;qBAAM;oBACH,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;oBACjC,IAAI,CAAC,WAAW,EAAE,CAAC;iBACtB;aACJ;QACL,CAAC;QAEO,KAAK;YACT,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE;gBACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;gBACzC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAA;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBAEvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAE3C;iBAAM,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,IAAI,+BAAgB,CAAC,KAAK,EAAC;gBACzD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;aAC5C;YAED,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;QAEO,WAAW;YACf,IAAI,IAAI,GAAS,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAEvC,IAAI,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC;QAEO,aAAa,CAAC,YAA0B;YAC5C,IAAI,IAAI,GAAS,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YAEjD,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC;QAEO,YAAY,CAAC,MAAoB;YACrC,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI,EAAE;gBAC7B,OAAO,MAAM,CAAC,YAAY,CAAC;aAC9B;YAED,MAAM,CAAC,YAAY,GAAG,IAAI,MAAM,CAAC,SAAS,EAAE,CAAC;YAC7C,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAExE,OAAO,MAAM,CAAC,YAAY,CAAC;QAC/B,CAAC;QAEO,oBAAoB,CAAC,IAAY;YACrC,KAAK,IAAI,MAAM,IAAI,IAAI,CAAC,aAAa,EAAE;gBACnC,IAAI,MAAM,CAAC,IAAI,IAAI,IAAI,EAAE;oBACrB,OAAO,MAAM,CAAC;iBACjB;aACJ;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;KAGJ;IAnGD,wBAmGC;;;;;;;;;;;;;;;;;IIpGD,MAAa,KAAK;QAKd,YAAY,IAAO;YACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QACtB,CAAC;QAED,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QAED,QAAQ,CAAC,EAAU,EAAE,IAAW;YAC5B,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBAChC,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,EAAE;oBAChB,OAAO,KAAK,CAAC;iBAChB;aACJ;QACL,CAAC;QAED,MAAM;YACF,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC3B;QACL,CAAC;KACJ;IA1BD,sBA0BC;;;;;IC9BD,MAAa,KAAK;QAId,YAAY,EAAU,EAAE,GAAW;YAC/B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;YACb,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACnB,CAAC;KACJ;IARD,sBAQC;;;;;ICCD,MAAa,IAAI;QAON,MAAM,CAAC,IAAI,CAAC,cAAmC,EAAE,MAAe,EAAE,KAAqB;YAC1F,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAEpB,IAAI,CAAC,aAAa,GAAG,IAAI,2BAAY,EAAE,CAAC;QAC5C,CAAC;QAEM,MAAM,KAAK,GAAG;YACjB,OAAO,IAAI,CAAC,IAAI,CAAC;QACrB,CAAC;QAEM,MAAM,KAAK,MAAM;YACpB,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QAEM,MAAM,KAAK,KAAK;YACnB,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;QAEM,MAAM,KAAM,cAAc;YAC7B,OAAO,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;QAEM,MAAM,KAAM,YAAY;YAC3B,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;QAEM,MAAM,CAAC,WAAW,CAAC,OAA2B;YACjD,IAAI,CAAC,IAAI,GAAG,IAAI,qBAAW,CAAC,OAAO,CAAC,CAAC;YAErC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE1C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,CAAC,CAAK,EAAE,EAAE;gBACrD,CAAC,CAAC,cAAc,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,MAAM,CAAO,UAAU,CAAC,MAAe;;gBAC1C,IAAI,MAAM,GAAuB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;gBAE3D,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;oBACtB,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;iBACnC;gBAED,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;oBAC3B,MAAM,CAAC,IAAI,CAAC,CAAC,MAA2B,EAAE,SAAc,EAAE,EAAE;wBACxD,OAAO,CAAC,SAAS,CAAC,CAAC;oBACvB,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAA;YACN,CAAC;SAAA;KACJ;IA1DD,oBA0DC;;;;;IC9DD,MAAa,uBAAuB;QAGhC,YAAY,YAA0B;YAClC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACtC,CAAC;QAEM,MAAM,CAA6B,EAAW,EAAE,SAAqC;YACxF,IAAI,EAAE,IAAI,IAAI,IAAI,SAAS,IAAI,IAAI,EAAE;gBACjC,OAAO,IAAI,6CAAqB,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;aACrE;iBAAM,IAAI,EAAE,IAAI,IAAI,EAAE;gBACnB,OAAO,IAAI,SAAS,CAAC,EAAE,CAAC,CAAC;aAC5B;iBAAM;gBACH,OAAO,IAAI,SAAS,EAAE,CAAC;aAC1B;QACL,CAAC;KACJ;IAhBD,0DAgBC;;;;;ICnBD,MAAa,YAAY;QAiBrB,QAAQ,CAAI,EAAW;YACnB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAC/C,CAAC;KACJ;IApBD,oCAoBC;;;;;ICnBD,MAAa,SAAS;QAMlB,QAAQ,CAAC,EAAU;YACf,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAC/C,CAAC;KACJ;IATD,8BASC;;;;;ICPD,MAAa,oBAAqB,SAAQ,mCAAgB;QAMtD,YAAY,EAAU;YAClB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAES,IAAI;YACV,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAiB,CAAC;YACxE,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;YAE5D,IAAI,CAAC,UAAU,GAAG,IAAI,kBAAQ,EAAE,CAAC;YACjC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YACrC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;YAEhC,IAAI,EAAE,GAAa,IAAI,kBAAQ,EAAE,CAAC;YAClC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACvB,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;YACV,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;YAEV,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEnC,IAAI,SAAS,GAAW,WAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAEjC,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACxD,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YAE/D,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC;gBAC3B,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACnD,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,GAAG,CAAC;YAChC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAE/C,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,eAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAEzC,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC;QAEM,MAAM;YACT,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACpF,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;YAErF,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE;gBAClF,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;aAClC;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;aACnC;QACL,CAAC;QAES,SAAS;YACf,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC;YAE/B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,CAAC;QAEM,OAAO,CAAC,CAAM;YACjB,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC;QACvC,CAAC;KACJ;IAzED,oDAyEC;;;;;IC5ED,MAAa,YAAY;QACd,MAAM,CAAC,QAAQ,CAAC,KAAa,EAAE,MAAc,EAAE,KAAa,EAAE,QAAgB,CAAC,EAAE,WAAoB,EAAE,MAAe;YACzH,IAAI,OAAO,GAAa,IAAI,kBAAQ,EAAE,CAAC;YAEvC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAEhC,IAAI,WAAW,IAAI,IAAI,EAAE;gBACrB,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;aACrC;YAED,IAAI,MAAM,IAAI,IAAI,EAAE;gBAChB,OAAO,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;aACxD;iBAAM;gBACH,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;aACzC;YAED,OAAO,CAAC,OAAO,EAAE,CAAC;YAElB,OAAO,OAAO,CAAC;QACnB,CAAC;KACJ;IApBD,oCAoBC;;;;;ICtBD,IAAK,WAAe;IAApB,WAAK,WAAW;IAAG,CAAC,EAAf,WAAW,KAAX,WAAW,QAAI;IACpB,MAAa,KAAK;QAgBd,YAAY,KAAa;YAfjB,eAAU,GAAW,EAAE,CAAC;YACxB,UAAK,GAAW,EAAE,CAAC;YACnB,cAAS,GAAG,GAAG,CAAC;YAEhB,WAAM,GAAa;gBACvB,EAAE;gBACF,SAAS;gBACT,SAAS;gBACT,UAAU;gBACV,aAAa;gBACb,aAAa;gBACb,YAAY;gBACZ,YAAY;gBACZ,WAAW;aAAC,CAAC;YAGb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACxB,CAAC;QAED,IAAI,SAAS;YACT,OAAO,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;QACjC,CAAC;QAED,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;QAC5B,CAAC;QAEM,OAAO,CAAC,KAAa,EAAE,MAAc,CAAC;YACzC,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;YAEjB,IAAI,KAAK,IAAI,GAAG,EAAE;gBACd,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBAEzD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;gBAEtC,IAAI,KAAK,GAAG,MAAM,EAAE;oBAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;iBACpE;qBAAM,IAAI,KAAK,GAAG,SAAS,EAAE;oBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;iBACxG;qBAAM;oBACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;iBAC3F;aACJ;QACL,CAAC;KACJ;IA7CD,sBA6CC;;;;;ICvCD,MAAa,qBAAsB,SAAQ,mCAAgB;QAMvD,YAAY,EAAW;YACnB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAES,IAAI;YACV,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAiB,CAAC;YACxE,IAAI,CAAC,IAAI,GAAG,IAAI,mBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;YAEzC,IAAI,MAAM,GAAY,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YACzG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAE9B,IAAI,CAAC,SAAS,GAAG,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACpF,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEtC,IAAI,IAAI,GAAa,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAC5G,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAE5B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;YAE3B,IAAI,KAAK,GAAG,IAAI,mBAAS,CAAC;gBACtB,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,GAAG,IAAI,cAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAExC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC;QAEM,MAAM;YACT,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;QACL,CAAC;QAES,QAAQ;YACd,IAAI,KAAK,GAAU,IAAI,aAAK,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAE7E,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAEzE,IAAI,IAAI,GAAW,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;YAE/E,IAAI,IAAI,IAAI,GAAG,EAAE;gBACb,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,MAAM,CAAA;gBAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;aAC1C;iBAAM;gBACH,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC;aACvE;YAED,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACxE,CAAC;KACJ;IA9DD,sDA8DC;;;;;IC7DD,MAAa,mBAAoB,SAAQ,mCAAgB;QAUrD,YAAY,EAAU;YAClB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAES,IAAI;YACV,IAAI,CAAC,UAAU,GAAG,WAAI,CAAC,KAAK,CAAC,IAAiB,CAAC;YAC/C,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAiB,CAAC;YACxE,IAAI,CAAC,IAAI,GAAG,IAAI,mBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;YAEzC,IAAI,CAAC,SAAS,GAAG,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YACpG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEtC,IAAI,CAAC,QAAQ,GAAG,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YACnG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAErC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC;QAES,SAAS;YACf,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;YAEhC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvD,CAAC;QAEM,MAAM;YACT,IAAI,KAAK,GAAU,IAAI,aAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAExB,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE;gBAC3E,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;iBAAM;gBACH,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;QACL,CAAC;QAES,MAAM;YACZ,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;QACjC,CAAC;QAES,OAAO;YACb,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;QAClC,CAAC;QAES,WAAW,CAAC,KAAY;YAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;YACzD,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;YAElB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;YACvD,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC;QACtB,CAAC;QAES,WAAW;YACjB,IAAI,KAAK,GAAG,IAAI,mBAAS,CAAC;gBACtB,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,OAAO,GAAQ,IAAI,cAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YAC9C,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YAEd,IAAI,CAAC,MAAM,GAAG,IAAI,cAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YAElC,KAAK,GAAG,IAAI,mBAAS,CAAC;gBAClB,UAAU,EAAE,aAAa;gBACzB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,KAAK,GAAG,IAAI,cAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YAEjC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5D,CAAC;QAEO,OAAO,CAAC,CAAM;YAClB,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE;gBAC3E,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBAEpB,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;aACpD;QACL,CAAC;KACJ;IAlGD,kDAkGC;;;;;ICpGD,MAAa,eAAgB,SAAQ,mCAAgB;QAKjD,YAAY,EAAU;YAClB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAES,IAAI;YACV,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAiB,CAAC;YACxE,IAAI,CAAC,IAAI,GAAG,IAAI,oBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAExC,IAAI,UAAU,GAAa,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC9G,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAElC,IAAI,KAAK,GAAG,IAAI,oBAAS,CAAC;gBACtB,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,UAAU,GAAG,IAAI,eAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,CAAC;QAEM,MAAM;YACT,IAAI,IAAI,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;YAExE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC;QAES,WAAW,CAAC,IAAY;YAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC;YAE5B,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAClE,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACxE,CAAC;KACJ;IAtCD,0CAsCC;;;;;ICpCD,MAAa,SAAU,SAAQ,mCAAgB;QAO3C,YAAY,EAAW;YACnB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAEM,IAAI;YACP,IAAI,CAAC,UAAU,GAAG,WAAI,CAAC,KAAK,CAAC,IAAiB,CAAC;YAC/C,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAiB,CAAC;YAExE,IAAI,CAAC,UAAU,GAAG,2BAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC3E,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEvC,IAAI,CAAC,UAAU,GAAG,2BAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEvC,IAAI,KAAK,GAAG,IAAI,oBAAS,CAAC;gBACtB,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,OAAO,GAAS,IAAI,eAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC3C,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACrD,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YAE5D,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;YACtB,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;YAEpB,IAAI,cAAc,GAAS,IAAI,eAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC7D,cAAc,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnE,cAAc,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAErE,IAAI,SAAS,GAAU,IAAI,aAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YAC1D,IAAI,IAAI,GAAS,IAAI,eAAI,CAAC,SAAS,CAAC,SAAS,GAAG,GAAG,GAAG,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC7E,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YAEtD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;YAErD,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,CAAC;QAEM,MAAM;YACT,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,EAAE;gBACxB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;aACzB;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;aAC1B;YAED,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;gBAClD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACrB;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACtB;QACL,CAAC;QAEO,UAAU,CAAC,IAAa;YAC5B,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;aAC/B;iBAAM;gBACH,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;aAChC;QACL,CAAC;QAEO,MAAM,CAAC,OAAgB;YAC3B,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;YAEhC,IAAI,OAAO,EAAE;gBACT,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;aAClC;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;aAClC;QACL,CAAC;QAEO,UAAU,CAAC,CAAM;YACrB,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;KACJ;IAvFD,8BAuFC;;;;;ICvFD,MAAa,iBAAkB,SAAQ,mCAAgB;QAQnD,YAAY,EAAU;YAClB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAES,IAAI;YACV,IAAI,CAAC,UAAU,GAAG,WAAI,CAAC,KAAK,CAAC,IAAiB,CAAC;YAC/C,IAAI,CAAC,MAAM,GAAG,WAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,WAAW,CAAiB,CAAC;YACxE,IAAI,CAAC,IAAI,GAAG,IAAI,oBAAS,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAExC,IAAI,CAAC,SAAS,GAAG,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YACpG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEtC,IAAI,CAAC,QAAQ,GAAG,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YACnG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAErC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC;QAES,SAAS;YACf,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;YAEhC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvD,CAAC;QAEM,MAAM;YACR,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC9E,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;iBAAM;gBACH,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;QACL,CAAC;QAES,MAAM;YACZ,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;QACjC,CAAC;QAES,OAAO;YACb,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;QAClC,CAAC;QAES,WAAW;YACjB,IAAI,KAAK,GAAG,IAAI,oBAAS,CAAC;gBACtB,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,KAAK,GAAU,IAAI,aAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YACtD,IAAI,IAAS,CAAC;YAEd,IAAI,GAAG,IAAI,eAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YAEX,IAAI,GAAG,IAAI,eAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;YAEZ,IAAI,GAAG,IAAI,eAAI,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;QAChB,CAAC;QAEO,OAAO,CAAC,CAAM;YAClB,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;YAE9B,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QACrD,CAAC;KACJ;IAnFD,8CAmFC;;;;;IClFD,MAAa,WAAY,SAAQ,mCAAgB;QAC7C,YAAY,EAAU;YAClB,KAAK,CAAC,EAAE,CAAC,CAAC;QACd,CAAC;QAES,IAAI;YACV,IAAI,IAAI,GAAyB,WAAI,CAAC,cAAc,CAAC,MAAM,CAAuB,IAAI,CAAC,EAAE,EAAE,2CAAoB,CAAC,CAAC;YACjH,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAEf,IAAI,WAAW,GAA0B,WAAI,CAAC,cAAc,CAAC,MAAM,CAAwB,IAAI,CAAC,EAAE,EAAE,6CAAqB,CAAC,CAAC;YAC3H,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACtB,WAAW,CAAC,CAAC,GAAG,GAAG,CAAC;YAEpB,IAAI,GAAG,GAAwB,WAAI,CAAC,cAAc,CAAC,MAAM,CAAsB,IAAI,CAAC,EAAE,EAAE,yCAAmB,CAAC,CAAC;YAC7G,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACd,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;YACZ,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YAEX,IAAI,KAAK,GAAoB,WAAI,CAAC,cAAc,CAAC,MAAM,CAAkB,IAAI,CAAC,EAAE,EAAE,iCAAe,CAAC,CAAC;YACnG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAChB,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC;YACd,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC;YAEb,IAAI,cAAc,GAAsB,WAAI,CAAC,cAAc,CAAC,MAAM,CAAoB,IAAI,CAAC,EAAE,EAAE,qCAAiB,CAAC,CAAC;YAClH,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YACzB,cAAc,CAAC,CAAC,GAAG,GAAG,CAAC;YACvB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;YAErB,IAAI,MAAM,GAAc,WAAI,CAAC,cAAc,CAAC,MAAM,CAAY,IAAI,CAAC,EAAE,EAAE,qBAAS,CAAC,CAAC;YAClF,mBAAmB;YACnB,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;YACf,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;KACJ;IAjCD,kCAiCC;;;;;ICvCD,2CAA2C;IAE3C;;;;OAIG;IAEH,MAAa,eAAgB,SAAQ,oBAAS;QAa1C,YAAY,MAAc;YACtB,KAAK,EAAE,CAAC;YAER,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAErB,IAAI,CAAC,eAAe,GAAG,IAAI,oBAAS,EAAE,CAAC;YACvC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAErC,IAAI,CAAC,aAAa,GAAG,IAAI,mBAAQ,EAAE,CAAC;YACpC,IAAI,CAAC,aAAa;iBACb,SAAS,CAAC,QAAQ,CAAC;iBACnB,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,WAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,WAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;iBAC3E,OAAO,EAAE,CAAC;YAEf,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACnC,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;YAE/C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACnD,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC;QAED,WAAW,CAAC,CAAM;YACd,MAAM,EAAE,aAAa,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;YACjC,IAAI,OAAO,GAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YAEhG,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC;gBAEzB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,EAAE;oBAC7B,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;iBAC/C;qBAAM;oBACH,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;iBAC3C;aACJ;QACL,CAAC;QAED,WAAW,CAAC,CAAM;YACd,MAAM,EAAE,aAAa,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;YACjC,MAAM,OAAO,GAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YAClG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;aAC3B;YAED,IAAI,CAAC,OAAO,GAAG;gBACX,CAAC,EAAE,OAAO;aACb,CAAC;QACN,CAAC;QAED,SAAS,CAAC,CAAM;YACZ,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACtD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;gBACzC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE;oBACvF,GAAG,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC;iBACzF;gBAED,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,EAAE;oBACd,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;iBAChB;gBAED,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACpB,IAAI,GAAG,GAAG,CAAC;gBAEX,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,EAAE;oBACvD,CAAC,EAAE,GAAG;oBACN,IAAI;iBACP,CAAC,CAAC;aACN;YAED,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,CAAC;QAIM,QAAQ,CAAC,KAA+C;YAC3D,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAkB,CAAC,CAAC;QAC7D,CAAC;QAEM,mBAAmB,CAAC,KAAoB;YAC3C,OAAO,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACtC,CAAC;KACJ;IAhHD,0CAgHC;;;;;IChHD,MAAa,SAAU,SAAQ,WAAI;QAI/B;YACI,KAAK,CAAC,WAAW,EAAE,IAAI,iCAAe,CAAC,GAAG,CAAC,CAAC,CAAC;QACjD,CAAC;QAEM,IAAI;YACP,KAAK,CAAC,IAAI,EAAE,CAAC;YAEb,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,aAAa,GAAe,YAAI,CAAC,KAAK,CAAC,IAAkB,CAAC;YAC9D,IAAI,OAAyB,CAAC;YAC9B,IAAI,QAAQ,GAAiB,IAAI,YAAY,EAAE,CAAC;YAEhD,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAmB,EAAE,KAAa,EAAE,EAAE;gBACnE,OAAO,GAAG,YAAI,CAAC,cAAc,CAAC,MAAM,CAAc,KAAK,CAAC,EAAE,EAAE,yBAAW,CAAC,CAAC;gBACzE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAElB,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;gBACf,OAAO,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;gBAEhC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC;YAClF,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,IAAI,EAAE,CAAC;YAEhB,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC;QAEM,MAAM;YACT,KAAK,CAAC,MAAM,EAAE,CAAC;YAEf,IAAI,KAAK,GAAU,IAAI,aAAK,CAAE,YAAI,CAAC,KAAK,CAAC,IAAkB,CAAC,KAAK,CAAC,CAAC;YAEnE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC;YACvC,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;QAC1C,CAAC;QAES,eAAe;YACrB,IAAI,SAAS,GAAc,IAAI,oBAAS,EAAE,CAAC;YAC3C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAExC,IAAI,EAAE,GAAa,2BAAY,CAAC,QAAQ,CAAC,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;YACrF,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAEvB,IAAI,KAAK,GAAG,IAAI,oBAAS,CAAC;gBACtB,UAAU,EAAE,OAAO;gBACnB,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,UAAU,GAAG,IAAI,eAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;YACvB,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEpC,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;YACtB,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;YAEpB,IAAI,CAAC,cAAc,GAAG,IAAI,eAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,EAAE,CAAC;YAC3B,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC5C,CAAC;QAES,cAAc;YACpB,IAAI,EAAE,GAAY,IAAI,mBAAQ,CAAC,IAAI,CAAC,CAAC;YACrC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACvB,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACrE,EAAE,CAAC,OAAO,EAAE,CAAC;YAEZ,IAAI,CAAC,OAA2B,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;YAE1D,OAAO,EAAE,CAAC;QACd,CAAC;KACJ;IA7ED,8BA6EC;;;;;ICtFD,MAAa,QAAS,SAAQ,WAAI;QAC9B;YACI,KAAK,CAAC,UAAU,CAAC,CAAC;QACtB,CAAC;QAEM,IAAI;QAEX,CAAC;KACJ;IARD,4BAQC;;;;;ICND,MAAa,cAAc;QAGvB;YACI,IAAI,CAAC,MAAM,GAAI,YAAI,CAAC,KAAK,CAAC,IAAkB,CAAC;YAE7C,IAAI,CAAC,OAAO,EAAE,CAAA;QAClB,CAAC;QAEM,MAAM;YACT,IAAI,SAAS,GAAmB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;YACtD,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAEnC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAmB,EAAE,EAAE;gBACtC,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE;oBACjB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAEjB,IAAI,KAAK,CAAC,UAAU,EAAE;wBAClB,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;wBAE7B,IAAI,KAAK,CAAC,QAAQ,IAAI,GAAG,EAAE;4BACvB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;4BAExB,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;4BACnB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;yBAChC;6BAAM;4BACH,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;yBACxB;qBACJ;yBAAM;wBACH,IAAI,KAAK,CAAC,QAAQ,IAAI,GAAG,EAAE;4BACvB,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;4BACnB,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;4BAE9B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;yBAE3B;6BAAM,IAAI,KAAK,CAAC,QAAQ,IAAI,CAAC,IAAI,KAAK,CAAC,eAAe,EAAE;4BACrD,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;4BAC7B,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;yBAEtB;6BAAM,IAAI,KAAK,CAAC,QAAQ,GAAG,CAAC,EAAE;4BAC3B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;yBACxB;qBACJ;oBAED,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBACrB;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QAGO,IAAI,CAAC,KAAmB;YAC5B,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;QAC9E,CAAC;QAEO,KAAK,CAAC,KAAmB;YAC7B,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACjF,CAAC;QAEO,QAAQ,CAAC,KAAmB;YAChC,IAAI,UAAU,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;YAChD,IAAI,QAAQ,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;YAErE,KAAK,CAAC,QAAQ,GAAG,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC;QACrD,CAAC;QAEO,WAAW,CAAC,KAAmB;YACnC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC;QAC5D,CAAC;QAEO,WAAW,CAAC,KAAmB;YACnC,IAAI,MAAM,GAAW,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,CAAA;YAEhD,IAAI,MAAM,IAAI,CAAC,EAAE;gBACb,OAAO,CAAC,CAAC;aACZ;YAED,OAAO,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;QACtC,CAAC;QAEO,OAAO;YACX,IAAI,SAAS,GAAmB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;YAEtD,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,IAAI,IAAI,EAAE;gBAC/B,IAAI,WAAW,GAAW,IAAI,CAAC,GAAG,EAAE,CAAC;gBACrC,IAAI,SAAS,GAAW,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;gBAE5D,SAAS,CAAC,OAAO,CAAC,CAAC,KAAmB,EAAE,EAAE;oBACtC,IAAI,KAAK,CAAC,UAAU,EAAE;wBAClB,KAAK,CAAC,SAAS,CAAC;wBAEhB,IAAI,WAAW,GAAW,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC;wBAC7E,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,WAAW,GAAG,CAAC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;wBAExE,IAAI,SAAS,GAAW,CAAC,SAAS,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;wBAExE,IAAI,QAAQ,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;wBACpE,KAAK,CAAC,QAAQ,GAAG,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC;qBACpD;gBACL,CAAC,CAAC,CAAC;aACN;QACL,CAAC;KACJ;IArGD,wCAqGC;;;;;ICtGD,MAAa,UAAU;QAKnB,YAAY,EAAU,EAAE,SAAiB;YACrC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAE5B,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;QAClE,CAAC;QAEM,IAAI,CAAC,KAAgB;YACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC;QAC5B,CAAC;QAEM,OAAO;YACV,IAAI,IAAI,GAAQ,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAE/C,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC3B;QACL,CAAC;QAEO,QAAQ;YACZ,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBACpB,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9D;QACL,CAAC;KACJ;IA7BD,gCA6BC;;;;;IClBD,MAAa,mBAAmB;QAI5B;YACI,IAAI,CAAC,cAAc,CAAC,uBAAU,CAAC,CAAC;YAChC,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC;QAEa,SAAS;;gBACnB,IAAI,SAAS,GACT,MAAM,YAAI,CAAC,UAAU,CAAC,CAAC;wBACnB,EAAE,EAAE,SAAS;wBACb,GAAG,EAAE,uBAAuB;qBAC/B,EAAE;wBACC,EAAE,EAAE,QAAQ;wBACZ,GAAG,EAAE,sBAAsB;qBAC9B;iBACJ,CAAC,CAAC;gBAEH,YAAI,CAAC,WAAW,CAAC;oBACb,KAAK,EAAE,GAAG;oBACV,MAAM,EAAE,GAAG;oBACX,SAAS,EAAE,IAAI;oBACf,WAAW,EAAE,KAAK;oBAClB,UAAU,EAAE,CAAC;oBACb,eAAe,EAAE,QAAQ;iBAC5B,CAAC,CAAC;gBAEH,IAAI,cAAc,GAA4B,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC1E,IAAI,MAAM,GAAW,IAAI,CAAC,YAAY,EAAE,CAAC;gBACzC,IAAI,KAAK,GAAqB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAEjE,YAAI,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;gBACzC,MAAM,CAAC,IAAI,EAAE,CAAC;gBAEd,IAAI,CAAC,eAAe,GAAG,IAAI,+BAAc,EAAE,CAAC;gBAE5C,IAAI,CAAC,SAAS,EAAE,CAAC;YACrB,CAAC;SAAA;QAEO,SAAS;YACb,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAE1D,YAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAChD,CAAC;QAEO,MAAM;YACV,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC9B,YAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACrB,YAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC;QAEO,oBAAoB;YACxB,OAAO,IAAI,iDAAuB,CAAC,IAAI,2BAAY,EAAE,CAAC,CAAC;QAC3D,CAAC;QAEO,WAAW,CAAC,MAAW;YAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,uBAAU,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAC/C,IAAI,SAAS,GAAc,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC;YAElE,IAAI,KAAK,GAAoB,IAAI,aAAK,CAAY,SAAS,CAAC,CAAC;YAC7D,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAE9B,OAAO,KAAK,CAAC;QACjB,CAAC;QAEO,YAAY;YAChB,OAAO,IAAI,eAAM,CACb,YAAI,CAAC,GAAG,CAAC,KAAK,EACd,CAAC;oBACG,IAAI,EAAE,OAAO;oBAEb,IAAI,EAAE,+BAAgB,CAAC,MAAM;oBAC7B,SAAS,EAAE,aAAK;iBACnB,EAAE;oBACC,SAAS,EAAE,IAAI;oBACf,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE,+BAAgB,CAAC,MAAM;oBAC7B,SAAS,EAAE,qBAAS;iBACvB,EAAE;oBACC,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,+BAAgB,CAAC,KAAK;oBAC5B,SAAS,EAAE,mBAAQ;iBACtB;aACJ,CAAC,CAAC;QACP,CAAC;QAEO,MAAM;YACV,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YACnD,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAChG,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,WAAW,GAAG,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;QACrG,CAAC;KACJ;IA9FD,kDA8FC;;AC5GD,IAAK,SAA4C;AAAjD,WAAK,SAAS;IAAG,2CAA8B,CAAA;AAAC,CAAC,EAA5C,SAAS,KAAT,SAAS,QAAmC;AACjD,IAAK,SAAyE;AAA9E,WAAK,SAAS;IAAG,sCAAyB,CAAA;IAAE,6CAAgC,CAAA;AAAC,CAAC,EAAzE,SAAS,KAAT,SAAS,QAAgE;;;;ICC9E,MAAa,IAAI;QAMb;YACI,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAY,CAAC;YAC5C,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAY,CAAC;QAChD,CAAC;QAEM,MAAM,KAAK,QAAQ;YACtB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACjB,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;aAC/B;YAED,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAEM,WAAW,CAAC,QAAkB;YACjC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,CAAC;QAEM,OAAO,CAAC,EAAU;YACrB,IAAI,MAAM,GAAW,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;YAChD,IAAI,QAAkB,CAAC;YAEvB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE;oBACjC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAEnC,OAAO,QAAQ,CAAC;iBACnB;aACJ;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAEM,OAAO,CAAC,QAAkB;YAE7B,IAAI,MAAM,GAAW,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;YAEhD,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,QAAQ,EAAE;oBACpC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC9D,MAAM;iBACT;aACJ;QACL,CAAC;QAEM,UAAU;YACb,IAAI,MAAM,GAAW,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;YAEhD,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;aACpD;YAED,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAY,CAAC;QAChD,CAAC;KACJ;IA5DD,oBA4DC","sourcesContent":["\r\nrequirejs.config({\r\n    map: {\r\n        '*': {\r\n            'pixi.js': '../lib/pixi',\r\n            'gsap': '../lib/gsap.min',\r\n            'PixiPlugin': '../lib/gsap.min/PixiPlugin'\r\n        }\r\n    }\r\n});\r\n\r\nrequire([\"pixi.js\", \"gsap\", \"PixiPlugin\"], function() {\r\n    require([\"com/adventurecapitalist/adventureCapitalist\"], function(adventureCapitalist: any) {\r\n        new adventureCapitalist.AdventureCapitalist();\r\n    });\r\n});","export interface Positionable {\r\n    x: number;\r\n    y: number;\r\n\r\n    position(x: number, y: number): void;\r\n}\r\n\r\n\r\n","import { DisplayObject } from \"pixi.js\";\r\nimport { Positionable } from \"../positionable\";\r\n\r\nexport interface Displayable extends Positionable {\r\n    id: string;\r\n    content:DisplayObject;\r\n}","export interface Reusable {\r\n    id: string;\r\n    clear():void;\r\n} ","export interface Updatable {\r\n    update(): void;\r\n}\r\n\r\n\r\n","import { Reusable } from \"../pool/reusable\";\r\nimport { Updatable } from \"./updatable\";\r\n\r\nexport class BaseComponent extends PIXI.utils.EventEmitter implements Reusable, Updatable {\r\n    \r\n    protected _children: Array<BaseComponent>;\r\n    protected _id: string;\r\n    protected _parent: BaseComponent;\r\n    \r\n    constructor(id?:string) {\r\n        super();\r\n        \r\n        this._id = id;\r\n        this._children = new Array<BaseComponent>();\r\n    }\r\n    \r\n    get id():string {\r\n        return this._id;\r\n    }\r\n\r\n    get parent(): BaseComponent {\r\n        return this._parent;\r\n    }\r\n     \r\n    public update(): void {\r\n        for (let component of this._children) {\r\n            component.update();\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        for (let component of this._children) {\r\n            component.clear();\r\n        }\r\n\r\n        this._children = new Array<BaseComponent>();\r\n    }\r\n\r\n    public add(component: BaseComponent): void {\r\n        component._parent = this;\r\n        this._children.push(component);\r\n    }\r\n\r\n    public remove(component: BaseComponent): void {\r\n        var index: number = this._children.indexOf(component);\r\n\r\n        if (index >= 0) {\r\n            this._children.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    public children(): Array<BaseComponent> {\r\n        return this._children;\r\n    }\r\n}\r\n","import { Container } from \"pixi.js\";\r\nimport { Displayable } from \"./displayable\";\r\nimport { BaseComponent } from \"../baseComponent\";\r\n\r\nexport class DisplayComponent extends BaseComponent implements Displayable {\r\n    protected _content: Container;\r\n    protected _x: number;\r\n    protected _y: number;\r\n\r\n    constructor(id?: string, content?: Container) {\r\n        super(id || content.name);\r\n\r\n        this._content = content;\r\n\r\n        if (content == null) {\r\n            this._content = new Container();\r\n        }\r\n\r\n        this.draw();\r\n    }\r\n\r\n    protected draw(): void {\r\n\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n    \r\n    public clear(): void {\r\n        this.position(0, 0);\r\n    }\r\n\r\n    public add(component: DisplayComponent): void {\r\n        super.add(component);\r\n\r\n        this.content.addChild(component.content);\r\n    }\r\n\r\n    public remove(component: DisplayComponent): void {\r\n        super.remove(component);\r\n\r\n        this.content.removeChild(component.content);\r\n    }\r\n\r\n    set x(x: number) {\r\n        this._x = x;\r\n\r\n        if (this._content != null) {\r\n            this._content.x = x;\r\n        }\r\n    }\r\n    \r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set y(y: number) {\r\n        this._y = y;\r\n        \r\n        if (this._content != null) {\r\n            this._content.y = y;\r\n        }\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    public position(x: number, y: number): void {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public set content(content: Container) {\r\n        this._content = content;\r\n    }\r\n\r\n    public get content() {\r\n        return this._content;\r\n    }\r\n}","import { Sprite } from \"pixi.js\";\r\nimport { DisplayComponent } from \"./DisplayComponent\";\r\n\r\nexport class ImageDisplayComponent extends DisplayComponent {\r\n    constructor(content: Sprite) {\r\n        super(content.name, content);\r\n    }\r\n}","\r\nimport { ImageDisplayComponent } from \"../../components/display/imageDisplayComponent\";\r\nimport { DisplayComponent } from \"../../components/display/DisplayComponent\";\r\n\r\nexport interface DisplaylableFactory {\r\n    create(id: string): ImageDisplayComponent;\r\n    create<T>(id?: string, Component?: { new (id?: string): T; }): T;\r\n}","import { DisplayComponent } from \"../components/display/DisplayComponent\";\r\nimport { Container } from \"pixi.js\";\r\n\r\nexport class View extends DisplayComponent {\r\n    constructor(id?: string, container?: Container) {\r\n        super(id, container || new Container());\r\n    }\r\n\r\n    public show(): void {\r\n        this.content.visible = true;\r\n\r\n        this.emit(ViewEvent.VIEW_OPENED);\r\n    }\r\n\r\n    public hide(): void {\r\n        this.content.visible = false;\r\n        this.destroy();\r\n    }\r\n\r\n    public destroy(): void {\r\n        this.clear();\r\n        \r\n        if (this._content.parent != null) {\r\n            this._content.parent.removeChild(this._content);\r\n        }\r\n\r\n        delete this._content;\r\n\r\n        this.emit(ViewEvent.VIEW_DESTROYED);\r\n    }\r\n}","import { View } from \"../views/view\";\r\n\r\nexport enum RouterOptionType { NORMAL = 1, MODAL = 2};\r\n\r\nexport class RouterOption {\r\n    \r\n    isDefault?: Boolean;\r\n    path: string;\r\n    component: typeof View;\r\n    componentRef?: View;\r\n    type: RouterOptionType;\r\n}","import { Texture, Sprite } from \"pixi.js\";\r\n\r\nexport class ImageFactory {\r\n    public getImage(id: string):Sprite {\r\n        return new Sprite(Texture.fromFrame(id));\r\n    }\r\n}","import { View } from \"../../gameclosure/views/view\";\r\nimport { Texture, Sprite, Point, Graphics } from \"pixi.js\";\r\nimport { Game } from \"../../gameclosure/game\";\r\nimport { RouterOptionType } from \"../../gameclosure/router/routerOption\";\r\nimport { ImageFactory } from \"../../gameclosure/factories/imageFactory\";\r\n\r\nexport class Intro extends View {\r\n    constructor() {\r\n        super(\"intro\");\r\n    }\r\n\r\n    public show() {\r\n        super.show();\r\n\r\n        var background: Graphics = new Graphics();\r\n        background.beginFill(0x329957);\r\n        background.drawRect(0, 0, Game.app.view.width, Game.app.view.height);\r\n        background.endFill();\r\n        this.content.addChild(background);\r\n\r\n        var logo: Sprite = Game.imageFactory.getImage(\"logo\");\r\n        logo.x = (Game.app.view.width - logo.width) / 2;\r\n        logo.y = (Game.app.view.height - logo.height) / 2;\r\n        this.content.addChild(logo);\r\n\r\n        var adventurelogo: Sprite = Game.imageFactory.getImage(\"adventurelogo\");\r\n        adventurelogo.scale = new Point(0.8, 0.8);\r\n        adventurelogo.x = (Game.app.view.width - adventurelogo.width) / 2;\r\n        adventurelogo.y = (Game.app.view.height - adventurelogo.height) / 2;\r\n        this.content.addChild(adventurelogo);\r\n\r\n        var timeLine: TimelineLite = new TimelineLite();\r\n        timeLine.from(logo, { alpha: 0, duration: 1 });\r\n        timeLine.from(logo, { alpha: 1, duration: 1, delay: 1 });\r\n        timeLine.from(adventurelogo, { alpha: 0, duration: 1 }, \"end\");\r\n        timeLine.from(background, { alpha: 0, duration: 1 }, \"end\");\r\n        timeLine.to(adventurelogo, { alpha: 0, duration: 1, delay: 2 });\r\n        timeLine.play();\r\n\r\n        timeLine.eventCallback(\"onComplete\", () => {\r\n            Game.router.show(\"companies\");\r\n        });\r\n    }\r\n}","import { RouterOption, RouterOptionType } from \"./routerOption\";\r\nimport { View } from \"../views/view\";\r\nimport { Container } from \"pixi.js\";\r\nimport { Intro } from \"../../adventurecapitalist/views/intro\";\r\n\r\nexport class Router {\r\n    private _container: Container;\r\n    private _routeOptions: RouterOption[];\r\n    private _previousRoute: RouterOption;\r\n    private _currentRoute: RouterOption;\r\n    private _nextRoute: RouterOption;\r\n\r\n    constructor(container: Container, routeOptions: RouterOption[]) {\r\n        this._container = container;\r\n        this._routeOptions = routeOptions;    \r\n    }\r\n\r\n    public init(): void {\r\n        this._routeOptions.forEach((option: RouterOption) => {\r\n            if (option.isDefault) {\r\n                this.show(option.path);\r\n                return;\r\n            }\r\n        })\r\n    }\r\n\r\n    public update() {\r\n        if (this._currentRoute != null) {\r\n            this._currentRoute.componentRef.update();\r\n        }\r\n    }\r\n\r\n    public show(path: string) {\r\n        if (this._nextRoute == null) {\r\n            var routeOption: RouterOption = this.getRouteOptionByPath(path);\r\n\r\n            if (this._currentRoute != null && path != this._currentRoute.path) {\r\n                if (routeOption.type == RouterOptionType.MODAL) {\r\n                    this._previousRoute = this._currentRoute;\r\n                    this._currentRoute = routeOption;\r\n\r\n                    this.showContent();\r\n                } else {\r\n                    this._nextRoute = routeOption;\r\n                    this._currentRoute.componentRef.hide();\r\n                }\r\n            } else {\r\n                this._currentRoute = routeOption;\r\n                this.showContent();\r\n            }\r\n        }\r\n    }\r\n\r\n    private close() {\r\n        if (this._nextRoute != null) {\r\n            this._previousRoute = this._currentRoute;\r\n            this._currentRoute = this._nextRoute \r\n            this._nextRoute = null;\r\n            \r\n            this.removeContent(this._previousRoute);\r\n\r\n        } else if (this._currentRoute.type == RouterOptionType.MODAL){\r\n            this.removeContent(this._currentRoute);\r\n            this._currentRoute = this._previousRoute;\r\n        }\r\n        \r\n        this.showContent();\r\n    }\r\n\r\n    private showContent() {\r\n        var view: View = this.getComponent(this._currentRoute);\r\n        this._container.addChild(view.content);\r\n\r\n        view.show();\r\n    }\r\n\r\n    private removeContent(routerOption: RouterOption) {\r\n        let view: View = this.getComponent(routerOption);\r\n\r\n        this._container.removeChild(view.content);\r\n    }\r\n\r\n    private getComponent(option: RouterOption): View {\r\n        if (option.componentRef != null) {\r\n            return option.componentRef;\r\n        }\r\n        \r\n        option.componentRef = new option.component();\r\n        option.componentRef.on(ViewEvent.VIEW_DESTROYED, this.close.bind(this));\r\n\r\n        return option.componentRef;\r\n    }\r\n\r\n    private getRouteOptionByPath(path: string): RouterOption {\r\n        for (var option of this._routeOptions) {\r\n            if (option.path == path) {\r\n                return option;\r\n            }\r\n        }\r\n  \r\n        return null;\r\n    }\r\n\r\n    \r\n}","export interface IState {\r\n    [key : string]: any\r\n    getState(id: string): IState;\r\n}","import { Storeable } from \"./storeable\";\r\n\r\nexport interface IStore {\r\n    save(data: Storeable): void;\r\n    retrive(): any;\r\n\r\n}","import { IStore } from \"./iStore\";\r\n\r\nexport interface Storeable {\r\n    data: any;\r\n    storage: IStore;\r\n}","import { IState } from \"./iState\";\r\nimport { Storeable } from \"./storeable\";\r\nimport { IStore } from \"./iStore\";\r\n\r\nexport class Store<T extends IState> implements Storeable {\r\n    public storage: IStore;\r\n\r\n    protected _data: T;\r\n\r\n    constructor(data: T) {\r\n        this._data = data;\r\n    }\r\n\r\n    get data(): T {\r\n        return this._data;\r\n    }\r\n\r\n    getState(id: string, path:string): IState {\r\n        for (var state of this._data[path]) {\r\n            if (id == state.id) {\r\n                return state;\r\n            }\r\n        }\r\n    }\r\n\r\n    commit():void {\r\n        if (this.storage != null) {\r\n            this.storage.save(this);\r\n        }\r\n    }\r\n}","export class Asset {\r\n    public id: string;\r\n    public url: string;\r\n\r\n    constructor(id: string, url: string) {\r\n        this.id = id;\r\n        this.url = url;\r\n    }\r\n}","import { DisplaylableFactory } from \"./factories/display/displayableFactory\";\r\nimport { Application, ApplicationOptions } from \"pixi.js\";\r\nimport { Router } from \"./router/router\";\r\nimport { Store } from \"./store/store\";\r\nimport { IState } from \"./store/iState\";\r\nimport { Asset } from \"./utils/asset\";\r\nimport { ImageFactory } from \"./factories/imageFactory\";\r\n\r\n\r\nexport class Game {\r\n    private static _app: Application;\r\n    private static _router: Router;\r\n    private static _store: Store<IState>;\r\n    private static _diplayFactory: DisplaylableFactory;\r\n    private static _imageFactory: ImageFactory;\r\n\r\n    public static init(displayFactory: DisplaylableFactory, router?: Router, store?: Store<IState>) {\r\n        Game._diplayFactory = displayFactory;\r\n        Game._router = router;\r\n        Game._store = store;\r\n\r\n        Game._imageFactory = new ImageFactory();\r\n    }\r\n    \r\n    public static get app(): Application {\r\n        return Game._app;\r\n    }\r\n\r\n    public static get router(): Router {\r\n        return Game._router;\r\n    }\r\n\r\n    public static get store(): Store<IState> {\r\n        return Game._store;\r\n    }\r\n\r\n    public static  get displayFactory(): DisplaylableFactory {\r\n        return Game._diplayFactory;\r\n    }\r\n\r\n    public static  get imageFactory(): ImageFactory {\r\n        return Game._imageFactory;\r\n    }\r\n\r\n    public static setupRender(options: ApplicationOptions) {\r\n        Game._app = new Application(options);\r\n\r\n        document.body.appendChild(this._app.view);\r\n\r\n        this._app.view.addEventListener('contextmenu', (e:any) => {\r\n            e.preventDefault();\r\n        });\r\n    }\r\n\r\n    public static async loadAssets(assets: Asset[]): Promise<any> {\r\n        var loader:PIXI.loaders.Loader = new PIXI.loaders.Loader();\r\n\r\n        for (var asset of assets) {\r\n            loader.add(asset.id, asset.url);\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            loader.load((loader: PIXI.loaders.Loader, resources: any) => {\r\n                resolve(resources);\r\n            });\r\n        })\r\n    }\r\n}","import { ImageFactory } from \"../imageFactory\";\nimport { DisplaylableFactory } from \"./displayableFactory\";\nimport { DisplayComponent } from \"../../components/display/DisplayComponent\";\nimport { ImageDisplayComponent } from \"../../components/display/imageDisplayComponent\";\n\nexport class DisplayComponentFactory implements DisplaylableFactory {\n    protected _imageFactory: ImageFactory;\n\n    constructor(imageFactory: ImageFactory) {\n        this._imageFactory = imageFactory;\n    }\n\n    public create<T extends DisplayComponent>(id?: string, Component?: { new (id?: string): T; }): DisplayComponent {\n        if (id != null && Component == null) {\n            return new ImageDisplayComponent(this._imageFactory.getImage(id));\n        } else if (id != null) {\n            return new Component(id);\n        } else {\n            return new Component();\n        }\n    }\n}","import { IState } from \"../../gameclosure/store/iState\";\r\n\r\nexport class CompanyState implements IState {\r\n    id: string;\r\n    name: string;\r\n    initialCost: number;\r\n    currentCost: number;\r\n    coefficient: number;\r\n    initialTime: number;\r\n    currentTime: number;\r\n    initialRevenue: number;\r\n    owned: number;\r\n    multiplier: number;\r\n    progress: number;\r\n    progressStarted: boolean;\r\n    hasManager: boolean;\r\n    managerCost: number;\r\n    timestamp?: number;\r\n\r\n    getState<T>(id?: string): T {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n}","import { IState } from \"../../gameclosure/store/iState\";\r\nimport { CompanyState } from \"./companyState\";\r\n\r\nexport class GameState implements IState {\r\n    username?: string;\r\n    total?: number;\r\n    timestamp?: number;\r\n    companies: CompanyState[];\r\n    \r\n    getState(id: string): IState {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n}","import { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { Game } from \"../../../../gameclosure/game\";\r\nimport { Sprite, Point, Graphics, filters, TextStyle } from \"pixi.js\";\r\nimport { CompanyState } from \"../../../store/companyState\";\r\n\r\nexport class InvestmentLogoButton extends DisplayComponent {\r\n    private _investmentCounter: PIXI.Text;\r\n    private _frame: Sprite;\r\n    private _highlight: Graphics;\r\n    private _state: CompanyState;\r\n    \r\n    constructor(id: string) {\r\n        super(id);\r\n    }\r\n    \r\n    protected draw() {\r\n        this._state = Game.store.getState(this.id, \"companies\") as CompanyState;\r\n        this._frame = Game.imageFactory.getImage(\"investmentFrame\");\r\n        \r\n        this._highlight = new Graphics();\r\n        this._highlight.beginFill(0x64cc47);\r\n        this._highlight.drawCircle(0, 0, 82);\r\n        this._highlight.x = 75;\r\n        this._highlight.y = 75;\r\n        this._highlight.visible = false;\r\n\r\n        var bg: Graphics = new Graphics();\r\n        bg.beginFill(0x3b79b8);\r\n        bg.drawCircle(0, 0, 70);\r\n        bg.x = 75;\r\n        bg.y = 75;\r\n\r\n        this.content.addChild(this._highlight);\r\n        this.content.addChild(bg);\r\n        this.content.addChild(this._frame);\r\n\r\n        var logoImage: Sprite = Game.imageFactory.getImage(this.id);\r\n        this.content.addChild(logoImage);\r\n\r\n        logoImage.x = (this._frame.width - logoImage.width) / 2;\r\n        logoImage.y = (this._frame.height - logoImage.height) / 2 - 21;\r\n        \r\n        var style = new PIXI.TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 35,\r\n            fill: \"white\"\r\n        });\r\n        \r\n        this._investmentCounter = new PIXI.Text(\"\", style);\r\n        this._investmentCounter.y = 108; \r\n        this.content.addChild(this._investmentCounter);\r\n        \r\n        this.content.scale = new Point(0.6, 0.6);\r\n\r\n        this.addEvents();\r\n    }\r\n\r\n    public update() {\r\n        this._investmentCounter.x = (this._frame.width - this._investmentCounter.width) / 2; \r\n        this._investmentCounter.text = this._state.owned ? this._state.owned.toString() : \"\";\r\n\r\n        if (!this._state.progressStarted && !this._state.hasManager && this._state.owned > 0) {\r\n            this._highlight.visible = true; \r\n        } else {\r\n            this._highlight.visible = false;\r\n        }\r\n    }\r\n\r\n    protected addEvents() {\r\n        this.content.interactive = true;\r\n        this.content.buttonMode = true;\r\n\r\n        this.content.on(\"click\", this.onClick.bind(this));\r\n    }\r\n\r\n    public onClick(e: any): void {\r\n        this._state.progressStarted = true;\r\n    }\r\n}","import { Graphics } from \"pixi.js\";\r\n\r\nexport class GraphicsUtil {\r\n    public static drawRect(width: number, height: number, color: number, alpha: number = 1, borderColor?: number, radius?: number): Graphics {\r\n        var graphic: Graphics = new Graphics();\r\n\r\n        graphic.beginFill(color, alpha);\r\n\r\n        if (borderColor != null) {\r\n            graphic.lineStyle(3, borderColor);\r\n        }\r\n\r\n        if (radius != null) {\r\n            graphic.drawRoundedRect(0, 0, width, height, radius);\r\n        } else {\r\n            graphic.drawRect(0, 0, width, height);\r\n        }\r\n\r\n        graphic.endFill();\r\n\r\n        return graphic;\r\n    }\r\n}","enum NumberScale { }\r\nexport class Money {\r\n    private _formatted: string = \"\";\r\n    private _unit: string = \"\";\r\n    private _currency = \"$\";\r\n\r\n    private _units: string[] = [\r\n        \"\",\r\n        \"MILLION\",\r\n        \"BILLION\",\r\n        \"TRILLION\",\r\n        \"QUADRILLION\",\r\n        \"QUINTILLION\",\r\n        \"SEXTILLION\",\r\n        \"SEPTILLION\",\r\n        \"OCTILLION\"];\r\n\r\n    constructor(value: number) {\r\n        this.convert(value);\r\n    }\r\n\r\n    get formatted() {\r\n        return this._formatted || \"\";\r\n    }\r\n\r\n    get unit() {\r\n        return this._unit || \"\";\r\n    }\r\n\r\n    public convert(value: number, min: number = 1): void {\r\n        min = min || 1e3;\r\n\r\n        if (value >= min) {\r\n            var order = Math.floor(Math.log(value) / Math.log(1000));\r\n\r\n            this._unit = this._units[(order - 1)];\r\n            \r\n            if (value < 999999) {\r\n                this._formatted = this._currency + value.toLocaleString(\"en-US\");    \r\n            } else if (value < 999999999) {\r\n                this._formatted = this._currency + parseFloat(value.toLocaleString(\"pt-BR\")).toLocaleString(\"en-US\");\r\n            } else {\r\n                this._formatted = this._currency + parseFloat(value.toLocaleString(\"pt-BR\")).toString();\r\n            }\r\n        }\r\n    }\r\n}","import { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { Graphics, Rectangle, TextStyle, Text } from \"pixi.js\";\r\nimport { GraphicsUtil } from \"../../../../gameclosure/utils/graphicsUtil\";\r\nimport { Money } from \"../../../../gameclosure/utils/money\";\r\nimport { CompanyState } from \"../../../store/companyState\";\r\nimport { Game } from \"../../../../gameclosure/game\";\r\n\r\nexport class InvestmentProgressBar extends DisplayComponent {\r\n    public size: Rectangle;\r\n    private _progress: Graphics;\r\n    private _incomeText: Text;\r\n    private _state: CompanyState;\r\n\r\n    constructor(id?: string) {\r\n        super(id);\r\n    }\r\n\r\n    protected draw(): void {\r\n        this._state = Game.store.getState(this.id, \"companies\") as CompanyState;\r\n        this.size = new Rectangle(0, 0, 210, 30);\r\n\r\n        var border:Graphics = GraphicsUtil.drawRect(this.size.width, this.size.height, 0x6a8a94, 1, 0x444444, 5);\r\n        this.content.addChild(border);\r\n        \r\n        this._progress = GraphicsUtil.drawRect(this.size.width, this.size.height, 0x1ec81b);\r\n        this.content.addChild(this._progress);\r\n\r\n        var mask: Graphics = GraphicsUtil.drawRect(this.size.width - 4, this.size.height - 4, 0x1ec81b, 1, null, 5);\r\n        mask.y = 2;\r\n        mask.x = 2;\r\n        this.content.addChild(mask);\r\n        \r\n        this._progress.mask = mask;\r\n\r\n        var style = new TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 15,\r\n            fill: \"black\"\r\n        });\r\n        \r\n        this._incomeText = new Text(\"\", style);\r\n        this._incomeText.y = 6;\r\n        this.content.addChild(this._incomeText);\r\n\r\n        this.progress();\r\n    }\r\n\r\n    public update(): void {\r\n        if (this._state.owned > 0) {\r\n            this.progress();\r\n        }\r\n    }\r\n\r\n    protected progress(): void {\r\n        var money: Money = new Money(this._state.initialRevenue * this._state.owned);\r\n\r\n        this._incomeText.text = money.formatted + \" \" + money.unit.toLowerCase();\r\n\r\n        var time: number = this._state.initialTime / Math.ceil(this._state.owned / 25);\r\n        \r\n        if (time <= 0.2) {\r\n            this._incomeText.text += \"/sec\"\r\n            this._progress.width = this.size.width;\r\n        } else {\r\n            this._progress.width = this.size.width * this._state.progress / 100;\r\n        }\r\n\r\n        this._incomeText.x = (this.size.width - this._incomeText.width) / 2;\r\n    }\r\n}","import { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { Graphics, Rectangle, TextStyle, Text } from \"pixi.js\";\r\nimport { GraphicsUtil } from \"../../../../gameclosure/utils/graphicsUtil\";\r\nimport { Money } from \"../../../../gameclosure/utils/money\";\r\nimport { CompanyState } from \"../../../store/companyState\";\r\nimport { Game } from \"../../../../gameclosure/game\";\r\nimport { GameState } from \"../../../store/gameState\";\r\n\r\nexport class InvestmentBuyButton extends DisplayComponent {\r\n    public size: Rectangle;\r\n\r\n    private _disabled: Graphics;\r\n    private _enabled: Graphics;\r\n    private _price: Text;\r\n    private _unit: Text;\r\n    private _gameState: GameState;\r\n    private _state: CompanyState;\r\n\r\n    constructor(id: string) {\r\n        super(id);\r\n    }\r\n\r\n    protected draw() {\r\n        this._gameState = Game.store.data as GameState;\r\n        this._state = Game.store.getState(this.id, \"companies\") as CompanyState;\r\n        this.size = new Rectangle(0, 0, 148, 50);\r\n\r\n        this._disabled = GraphicsUtil.drawRect(this.size.width, this.size.height, 0x6a8a94, 1, 0x444444, 5);\r\n        this.content.addChild(this._disabled);\r\n\r\n        this._enabled = GraphicsUtil.drawRect(this.size.width, this.size.height, 0xe08b4e, 1, 0x444444, 5);\r\n        this.content.addChild(this._enabled);\r\n\r\n        this.createTexts();\r\n        this.addEvents();     \r\n    }\r\n\r\n    protected addEvents() {\r\n        this._enabled.interactive = true;\r\n        this._enabled.buttonMode = true;\r\n\r\n        this._enabled.on(\"click\", this.onClick.bind(this));\r\n    }\r\n\r\n    public update(): void {\r\n        var money: Money = new Money(this._state.currentCost);\r\n        this.updatePrice(money);\r\n\r\n        if (this._gameState.total >= this._state.currentCost && this._state.owned > 0) {\r\n            this.enable();\r\n        } else {\r\n            this.disable();\r\n        }\r\n    }\r\n\r\n    protected enable(): void {\r\n        this._disabled.visible = false;\r\n        this._enabled.visible = true;\r\n    }\r\n\r\n    protected disable(): void {\r\n        this._disabled.visible = true;\r\n        this._enabled.visible = false;\r\n    }\r\n\r\n    protected updatePrice(price: Money): void {\r\n        this._price.text = price.formatted;\r\n        this._price.x = this.size.width - this._price.width - 10;\r\n        this._price.y = 5;\r\n\r\n        this._unit.text = price.unit.toUpperCase();\r\n        this._unit.x = this.size.width - this._unit.width - 10;\r\n        this._unit.y = 25;\r\n    }\r\n\r\n    protected createTexts(): void {\r\n        var style = new TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 15,\r\n            fill: \"white\"\r\n        });\r\n        \r\n        var buyText:Text = new Text(\"Buy\\nx1\", style);\r\n        buyText.x = 10;\r\n        buyText.y = 5;\r\n\r\n        this._price = new Text(\"\", style);\r\n        \r\n        style = new TextStyle({\r\n            fontFamily: \"Arial Black\",\r\n            fontSize: 10,\r\n            fill: \"black\"\r\n        });\r\n\r\n        this._unit = new Text(\"\", style);\r\n\r\n        this.content.addChild(buyText, this._price, this._unit);\r\n    }\r\n\r\n    private onClick(e: any): void {\r\n        if (this._gameState.total >= this._state.currentCost && this._state.owned > 0) {\r\n            this._state.owned++;\r\n\r\n            this._gameState.total -= this._state.currentCost;\r\n        }\r\n    }\r\n}","import { Rectangle, Graphics, Text, TextStyle } from \"pixi.js\";\r\nimport { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { GraphicsUtil } from \"../../../../gameclosure/utils/graphicsUtil\";\r\nimport { CompanyState } from \"../../../store/companyState\";\r\nimport { Game } from \"../../../../gameclosure/game\";\r\n\r\nexport class InvestmentTimer extends DisplayComponent {\r\n    public size: Rectangle;\r\n    private _timerText: Text;\r\n    private _state: CompanyState;\r\n\r\n    constructor(id: string) {\r\n        super(id);\r\n    }\r\n\r\n    protected draw() {\r\n        this._state = Game.store.getState(this.id, \"companies\") as CompanyState;\r\n        this.size = new Rectangle(0, 0, 58, 50);\r\n\r\n        var background: Graphics = GraphicsUtil.drawRect(this.size.width, this.size.height, 0x6a8a94, 1, 0x444444, 5);\r\n        this.content.addChild(background);\r\n\r\n        var style = new TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 15,\r\n            fill: \"white\"\r\n        });\r\n        \r\n        this._timerText = new Text(\"\", style);\r\n        this.content.addChild(this._timerText);\r\n    }\r\n\r\n    public update(): void {\r\n        var time: string = Math.floor(this._state.currentTime).toString() + \"s\";\r\n        \r\n        this.updateTimer(time);\r\n    }\r\n\r\n    protected updateTimer(time: string): void {\r\n        this._timerText.text = time;\r\n\r\n        this._timerText.x = (this.size.width - this._timerText.width) / 2;\r\n        this._timerText.y = (this.size.height - this._timerText.height) / 2; \r\n    }\r\n}","import { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { Graphics, TextStyle, Text } from \"pixi.js\";\r\nimport { GraphicsUtil } from \"../../../../gameclosure/utils/graphicsUtil\";\r\nimport { GameState } from \"../../../store/gameState\";\r\nimport { CompanyState } from \"../../../store/companyState\";\r\nimport { Game } from \"../../../../gameclosure/game\";\r\nimport { Money } from \"../../../../gameclosure/utils/money\";\r\n\r\nexport class BuyButton extends DisplayComponent {\r\n    private _gameState: GameState;\r\n    private _state: CompanyState;\r\n    \r\n    private _enabledBg: Graphics;\r\n    private _disableBg: Graphics;\r\n\r\n    constructor(id?: string) {\r\n        super(id);\r\n    }\r\n\r\n    public draw(): void {\r\n        this._gameState = Game.store.data as GameState;\r\n        this._state = Game.store.getState(this.id, \"companies\") as CompanyState;\r\n\r\n        this._disableBg = GraphicsUtil.drawRect(200, 70, 0x7c989c, 1, 0x444444, 5);\r\n        this.content.addChild(this._disableBg);\r\n\r\n        this._enabledBg = GraphicsUtil.drawRect(200, 70, 0xebb734, 1, null, 5);\r\n        this._enabledBg.buttonMode = true;\r\n        this._enabledBg.interactive = true;\r\n        this.content.addChild(this._enabledBg);\r\n        \r\n        var style = new TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 20,\r\n            fill: \"black\"\r\n        });\r\n        \r\n        var buyText: Text = new Text(\"BUY\", style);\r\n        buyText.x = (this.content.width - buyText.width) / 2;\r\n        buyText.y = (this.content.height - buyText.height) / 2 - 20;\r\n\r\n        style = style.clone();\r\n        style.fontSize = 15;\r\n\r\n        var investmentName: Text = new Text(this._state.name, style);\r\n        investmentName.x = (this.content.width - investmentName.width) / 2;\r\n        investmentName.y = (this.content.height - investmentName.height) / 2;\r\n\r\n        var costMoney: Money = new Money(this._state.initialCost);\r\n        var cost: Text = new Text(costMoney.formatted + \" \" + costMoney.unit, style);\r\n        cost.x = (this.content.width - cost.width) / 2;\r\n        cost.y = (this.content.height - cost.height) / 2 + 20;\r\n\r\n        this.content.addChild(buyText, investmentName, cost);\r\n\r\n        this._enabledBg.on(\"click\", this.onClickBuy.bind(this));\r\n    }\r\n\r\n    public update(): void {\r\n        if (this._state.owned == 0) {\r\n            this.showButton(true);\r\n        } else {\r\n            this.showButton(false);\r\n        }\r\n\r\n        if (this._state.initialCost <= this._gameState.total) {\r\n            this.enable(true);\r\n        } else {\r\n            this.enable(false);\r\n        }\r\n    }\r\n\r\n    private showButton(show: boolean): void {\r\n        if (show) {\r\n            this.content.visible = true;\r\n        } else {\r\n            this.content.visible = false;\r\n        }\r\n    }\r\n\r\n    private enable(enabled: boolean): void {\r\n        this._enabledBg.visible = false;\r\n        this._disableBg.visible = false;\r\n\r\n        if (enabled) {\r\n            this._enabledBg.visible = true;\r\n        } else {\r\n            this._disableBg.visible = true;\r\n        }\r\n    }\r\n\r\n    private onClickBuy(e: any): void {\r\n        this._gameState.total -= this._state.initialCost;\r\n        this._state.owned++;\r\n    }\r\n}","import { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { Graphics, Rectangle, TextStyle, Text } from \"pixi.js\";\r\nimport { GraphicsUtil } from \"../../../../gameclosure/utils/graphicsUtil\";\r\nimport { CompanyState } from \"../../../store/companyState\";\r\nimport { Game } from \"../../../../gameclosure/game\";\r\nimport { GameState } from \"../../../store/gameState\";\r\nimport { Money } from \"../../../../gameclosure/utils/money\";\r\n\r\nexport class HireManagerButton extends DisplayComponent {\r\n    public size: Rectangle;\r\n\r\n    private _disabled: Graphics;\r\n    private _enabled: Graphics;\r\n    private _gameState: GameState;\r\n    private _state: CompanyState;\r\n\r\n    constructor(id: string) {\r\n        super(id);\r\n    }\r\n\r\n    protected draw() {\r\n        this._gameState = Game.store.data as GameState;\r\n        this._state = Game.store.getState(this.id, \"companies\") as CompanyState;\r\n        this.size = new Rectangle(0, 0, 85, 85);\r\n\r\n        this._disabled = GraphicsUtil.drawRect(this.size.width, this.size.height, 0x6a8a94, 1, 0x444444, 5);\r\n        this.content.addChild(this._disabled);\r\n\r\n        this._enabled = GraphicsUtil.drawRect(this.size.width, this.size.height, 0xe08b4e, 1, 0x444444, 5);\r\n        this.content.addChild(this._enabled);\r\n\r\n        this.createTexts();\r\n        this.addEvents();     \r\n    }\r\n\r\n    protected addEvents() {\r\n        this._enabled.interactive = true;\r\n        this._enabled.buttonMode = true;\r\n\r\n        this._enabled.on(\"click\", this.onClick.bind(this));\r\n    }\r\n\r\n    public update(): void {\r\n         if (this._gameState.total >= this._state.managerCost && !this._state.hasManager) {\r\n            this.enable();\r\n        } else {\r\n            this.disable();\r\n        }\r\n    }\r\n\r\n    protected enable(): void {\r\n        this._disabled.visible = false;\r\n        this._enabled.visible = true;\r\n    }\r\n\r\n    protected disable(): void {\r\n        this._disabled.visible = true;\r\n        this._enabled.visible = false;\r\n    }\r\n\r\n    protected createTexts(): void {\r\n        var style = new TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 12,\r\n            fill: \"white\",\r\n        });\r\n        \r\n        var money: Money = new Money(this._state.managerCost);\r\n        var text:Text;\r\n\r\n        text = new Text(\"BUY\", style);\r\n        this.content.addChild(text);\r\n        text.x = (this.content.width - text.width) / 2;\r\n        text.y = 5;\r\n\r\n        text = new Text(\"MANAGER\", style);\r\n        this.content.addChild(text);\r\n        text.x = (this.content.width - text.width) / 2;\r\n        text.y = 20;\r\n\r\n        text = new Text(money.formatted + \" \" + money.unit, style);\r\n        this.content.addChild(text);\r\n        text.x = (this.content.width - text.width) / 2;\r\n        text.y = 45;\r\n    }\r\n\r\n    private onClick(e: any): void {\r\n        this._state.hasManager = true;\r\n\r\n        this._gameState.total -= this._state.managerCost;\r\n    }\r\n}","import { Game } from \"../../../../gameclosure/game\";\r\nimport { DisplayComponent } from \"../../../../gameclosure/components/display/DisplayComponent\";\r\nimport { InvestmentLogoButton } from \"./investmentLogoButton\";\r\nimport { InvestmentProgressBar } from \"./investmentProgressBar\";\r\nimport { InvestmentBuyButton } from \"./investmentBuyButton\";\r\nimport { InvestmentTimer } from \"./investmentTimer\";\r\nimport { BuyButton } from \"./buyButton\";\r\nimport { HireManagerButton } from \"./hireManagerButton\";\r\n\r\nexport class CompanyItem extends DisplayComponent {\r\n    constructor(id: string) {\r\n        super(id);\r\n    }\r\n\r\n    protected draw() {\r\n        var logo: InvestmentLogoButton = Game.displayFactory.create<InvestmentLogoButton>(this.id, InvestmentLogoButton);\r\n        this.add(logo);\r\n\r\n        var progressBar: InvestmentProgressBar = Game.displayFactory.create<InvestmentProgressBar>(this.id, InvestmentProgressBar);\r\n        this.add(progressBar);\r\n        progressBar.x = 100;\r\n\r\n        var buy: InvestmentBuyButton = Game.displayFactory.create<InvestmentBuyButton>(this.id, InvestmentBuyButton);\r\n        this.add(buy);\r\n        buy.x = 100;\r\n        buy.y = 35;\r\n\r\n        var timer: InvestmentTimer = Game.displayFactory.create<InvestmentTimer>(this.id, InvestmentTimer);\r\n        this.add(timer);\r\n        timer.x = 252;\r\n        timer.y = 35;\r\n\r\n        var hireManagerBtn: HireManagerButton = Game.displayFactory.create<HireManagerButton>(this.id, HireManagerButton);\r\n        this.add(hireManagerBtn);\r\n        hireManagerBtn.x = 315;\r\n        hireManagerBtn.y = 0;\r\n\r\n        var buyBtn: BuyButton = Game.displayFactory.create<BuyButton>(this.id, BuyButton);\r\n        //this.add(buyBtn);\r\n        buyBtn.x = 150;\r\n        buyBtn.y = 8;\r\n    }\r\n}","import { Container, Graphics, DisplayObject } from \"pixi.js\";\r\nimport { Game } from \"../game\";\r\n\r\n/* globals TweenMax, Quad, Back, Elastic */\r\n\r\n/*\r\n * Original implementation: https://codepen.io/wiledal/pen/ZYoNEa?editors=0010\r\n * Requires GreenSockss GSAP 2.0.1\r\n * Works with PixiJS 4.7.3\r\n */\r\n\r\nexport class ScrollContainer extends Container {\r\n    public scrollContainer: Container;\r\n    public x: number;\r\n    public y: number;\r\n    public height: number;\r\n    public itemHeight: number;\r\n    public containerMask: Graphics;\r\n    public isMouseDown: boolean;\r\n    public lastPos: any;\r\n    public lastDiff: number;\r\n    public scrollTween: TweenMax;\r\n    public offset: number;\r\n\r\n    constructor(offset: number) {\r\n        super();\r\n\r\n        this.offset = offset;\r\n\r\n        this.scrollContainer = new Container();\r\n        super.addChild(this.scrollContainer);\r\n\r\n        this.containerMask = new Graphics();\r\n        this.containerMask\r\n            .beginFill(0x000000)\r\n            .drawRect(this.x, this.y, Game.app.renderer.width, Game.app.renderer.height)\r\n            .endFill();\r\n\r\n        super.addChild(this.containerMask);\r\n        this.scrollContainer.mask = this.containerMask;\r\n\r\n        this.isMouseDown = false;\r\n        this.lastPos = null;\r\n        this.lastDiff = null;\r\n        this.scrollTween = null;\r\n\r\n        this.interactive = true;\r\n        this.on(\"mousemove\", this.onmousemove.bind(this));\r\n        this.on(\"mousedown\", this.onmousedown.bind(this));\r\n        this.on(\"mouseup\", this.onmouseup.bind(this));\r\n        this.on(\"mouseupoutside\", this.onmouseup.bind(this));\r\n        this.on(\"touchmove\", this.onmousemove.bind(this));\r\n        this.on(\"touchstart\", this.onmousedown.bind(this));\r\n        this.on(\"touchend\", this.onmouseup.bind(this));\r\n        this.on(\"touchendoutside\", this.onmouseup.bind(this));\r\n    }\r\n\r\n    onmousemove(e: any): void {\r\n        const { originalEvent } = e.data;\r\n        var clientY = !originalEvent.touches ? originalEvent.clientY : originalEvent.touches[0].clientY;\r\n\r\n        if (this.isMouseDown) {\r\n            this.lastDiff = clientY - this.lastPos.y;\r\n            this.lastPos.y = clientY;\r\n\r\n            if (-this.scrollContainer.y < 0) {\r\n                this.scrollContainer.y += this.lastDiff / 2;\r\n            } else {\r\n                this.scrollContainer.y += this.lastDiff;\r\n            }\r\n        }\r\n    }\r\n\r\n    onmousedown(e: any): void {\r\n        const { originalEvent } = e.data;\r\n        const clientY = !originalEvent.touches ? originalEvent.clientY : originalEvent.touches[0].clientY;\r\n        this.isMouseDown = true;\r\n\r\n        if (this.scrollTween) {\r\n            this.scrollTween.kill();\r\n        }\r\n\r\n        this.lastPos = {\r\n            y: clientY\r\n        };\r\n    }\r\n\r\n    onmouseup(e: any): void {\r\n        if (this.lastDiff) {\r\n            let goY = this.scrollContainer.y + this.lastDiff * 10;\r\n            let ease = Quad.easeOut;\r\n            let time = Math.abs(this.lastDiff / 150);\r\n            if (goY < -this.scrollContainer.height - this.offset + this.containerMask.height + this.y) {\r\n                goY = -this.scrollContainer.height - this.offset + this.containerMask.height + this.y;\r\n            }\r\n\r\n            if (goY > this.y) {\r\n                goY = this.y;\r\n            }\r\n\r\n            ease = Back.easeOut;\r\n            time = 0.5;\r\n\r\n            this.scrollTween = TweenMax.to(this.scrollContainer, time, {\r\n                y: goY,\r\n                ease\r\n            });\r\n        }\r\n\r\n        this.isMouseDown = false;\r\n        this.lastPos = null;\r\n        this.lastDiff = null;\r\n    }\r\n\r\n    public addChild(child:PIXI.DisplayObject):PIXI.DisplayObject;\r\n    public addChild(...child: PIXI.DisplayObject[]): PIXI.DisplayObject[];\r\n    public addChild(child:PIXI.DisplayObject | PIXI.DisplayObject[]):PIXI.DisplayObject | PIXI.DisplayObject[] {\r\n        return this.scrollContainer.addChild(child as Container);\r\n    }\r\n\r\n    public addChildToContainer(child: DisplayObject): DisplayObject {\r\n        return super.addChildAt(child, 0);\r\n    }\r\n}","import { View } from \"../../gameclosure/views/view\";\r\nimport { Game } from \"../../gameclosure/game\";\r\nimport { GameState } from \"../store/gameState\";\r\nimport { CompanyState } from \"../store/companyState\";\r\nimport { CompanyItem } from \"../components/display/company/companyItem\";\r\nimport { DisplayComponent } from \"../../gameclosure/components/display/DisplayComponent\";\r\nimport { Graphics, Text, TextStyle, Container } from \"pixi.js\";\r\nimport { ScrollContainer } from \"../../gameclosure/utils/scrollContainer\";\r\nimport { GraphicsUtil } from \"../../gameclosure/utils/graphicsUtil\";\r\nimport { Money } from \"../../gameclosure/utils/money\";\r\n\r\nexport class Companies extends View {\r\n    private _totalText: Text;\r\n    private _totalUnitText: Text;\r\n\r\n    constructor() {\r\n        super(\"companies\", new ScrollContainer(200));\r\n    }\r\n\r\n    public show(): void {\r\n        super.show();\r\n        \r\n        this.drawBackground();\r\n        var companiesData: GameState = (Game.store.data as GameState);\r\n        var company: DisplayComponent;\r\n        var timeLine: TimelineLite = new TimelineLite();\r\n\r\n        companiesData.companies.forEach((state: CompanyState, index: number) => {\r\n            company = Game.displayFactory.create<CompanyItem>(state.id, CompanyItem);\r\n            this.add(company);\r\n\r\n            company.x = 30;\r\n            company.y = 100 + (index * 120);\r\n\r\n            timeLine.from(company.content, { y: company.y - 20, alpha: 0, duration: 0.1});\r\n        });\r\n\r\n        timeLine.play();\r\n\r\n        this.createInterface();\r\n    }\r\n\r\n    public update(): void {\r\n        super.update();\r\n\r\n        var money: Money = new Money((Game.store.data as GameState).total);\r\n        \r\n        this._totalText.text = money.formatted;\r\n        this._totalUnitText.text = money.unit;\r\n    }\r\n\r\n    protected createInterface(): void {\r\n        var container: Container = new Container();\r\n        this.content.parent.addChild(container);\r\n\r\n        var bg: Graphics = GraphicsUtil.drawRect(Game.app.renderer.width, 80, 0x000000, 0.3);\r\n        container.addChild(bg);\r\n\r\n        var style = new TextStyle({\r\n            fontFamily: \"Arial\",\r\n            fontSize: 40,\r\n            fill: \"white\"\r\n        });\r\n\r\n        this._totalText = new Text(\"\", style);\r\n        this._totalText.x = 40;\r\n        this._totalText.y = 10;\r\n        container.addChild(this._totalText);\r\n\r\n        style = style.clone();\r\n        style.fontSize = 20;\r\n\r\n        this._totalUnitText = new Text(\"\", style);\r\n        this._totalUnitText.x = 40;\r\n        this._totalUnitText.y = 50;\r\n        container.addChild(this._totalUnitText);\r\n    }\r\n\r\n    protected drawBackground(): Graphics {\r\n        var bg:Graphics = new Graphics(true);\r\n        bg.beginFill(0x6fa2b3);\r\n        bg.drawRect(0, 0, Game.app.renderer.width, Game.app.renderer.height);\r\n        bg.endFill();\r\n\r\n        (this.content as ScrollContainer).addChildToContainer(bg);\r\n\r\n        return bg;\r\n    }\r\n}","import { View } from \"../../gameclosure/views/view\";\r\n\r\nexport class Managers extends View {\r\n    constructor() {\r\n        super(\"managers\");\r\n    }\r\n\r\n    public show() {\r\n        \r\n    }\r\n}","import { GameState } from \"../store/gameState\";\r\nimport { Game } from \"../../gameclosure/game\";\r\nimport { CompanyState } from \"../store/companyState\";\r\n\r\nexport class CompanyManager {\r\n    private _state: GameState;\r\n\r\n    constructor() {\r\n        this._state = (Game.store.data as GameState);\r\n\r\n        this.project()\r\n    }\r\n\r\n    public update() {\r\n        var companies: CompanyState[] = this._state.companies;\r\n        this._state.timestamp = Date.now();\r\n\r\n        companies.forEach((state: CompanyState) => {\r\n            if (state.owned > 0) {\r\n                this.cost(state);\r\n\r\n                if (state.hasManager) {\r\n                    state.progressStarted = true;\r\n\r\n                    if (state.progress == 100) {\r\n                        this.updateTotal(state);\r\n                        \r\n                        state.progress = 0;\r\n                        state.timestamp = Date.now();\r\n                    } else {\r\n                        this.progress(state);\r\n                    }\r\n                } else {\r\n                    if (state.progress == 100) {\r\n                        state.progress = 0;\r\n                        state.progressStarted = false;\r\n                        \r\n                        this.updateTotal(state);\r\n\r\n                    } else if (state.progress == 0 && state.progressStarted) {\r\n                        state.timestamp = Date.now();\r\n                        state.progress = 1;\r\n\r\n                    } else if (state.progress > 0) {\r\n                        this.progress(state);\r\n                    }\r\n                }\r\n\r\n                this.timer(state);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private cost(state: CompanyState): void {\r\n        state.currentCost = state.initialCost * (state.coefficient * state.owned);\r\n    }\r\n\r\n    private timer(state: CompanyState): void {\r\n        state.currentTime = ((100 - state.progress) / 100) * this.initialTime(state);\r\n    }\r\n\r\n    private progress(state: CompanyState): void {\r\n        var currentSec = (Date.now() - state.timestamp);\r\n        var progress = (currentSec * 100) / (this.initialTime(state) * 1000);\r\n        \r\n        state.progress = progress < 100 ? progress : 100;\r\n    }\r\n\r\n    private updateTotal(state: CompanyState): void {\r\n        this._state.total += state.initialRevenue * state.owned;\r\n    }\r\n\r\n    private initialTime(state: CompanyState): number {\r\n        var factor: number = Math.ceil(state.owned / 25)\r\n\r\n        if (factor == 0) {\r\n            return 1;\r\n        }\r\n\r\n        return state.initialTime / factor;\r\n    }\r\n\r\n    private project(): void {\r\n        var companies: CompanyState[] = this._state.companies;\r\n\r\n        if (this._state.timestamp != null) {\r\n            var currentTime: number = Date.now();\r\n            var totalDiff: number = currentTime - this._state.timestamp;\r\n\r\n            companies.forEach((state: CompanyState) => {\r\n                if (state.hasManager) {\r\n                    state.timestamp;\r\n\r\n                    var stateCicles: number = Math.floor(totalDiff / (state.initialTime * 1000));\r\n                    this._state.total += stateCicles * (state.initialRevenue * state.owned);\r\n\r\n                    var remainder: number = (totalDiff % (state.initialTime * 1000)) / 1000;\r\n\r\n                    var progress = (remainder * 100) / (this.initialTime(state) * 1000);\r\n                    state.progress = progress < 100 ? progress : 100;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}","import { IStore } from \"./iStore\";\r\nimport { Storeable } from \"./storeable\";\r\n\r\nexport class LocalStore implements IStore {\r\n    private _id: string;\r\n    private _frequency: number;\r\n    private _data: any;\r\n\r\n    constructor(id: string, frequency: number) {\r\n        this._id = id;\r\n        this._frequency = frequency;\r\n\r\n        setInterval(this.sendData.bind(this), this._frequency * 1000);\r\n    }\r\n\r\n    public save(store: Storeable): void {\r\n        this._data = store.data;\r\n    }\r\n\r\n    public retrive(): any {\r\n        var data: any = localStorage.getItem(this._id);\r\n        \r\n        if (data != null) {\r\n            return JSON.parse(data);\r\n        }\r\n    }\r\n\r\n    private sendData() {\r\n        if (this._data != null) {\r\n            localStorage.setItem(this._id, JSON.stringify(this._data));\r\n        }\r\n    }\r\n}","import { PixiPlugin } from \"gsap/PixiPlugin\";\r\nimport { Game } from \"../gameclosure/game\";\r\nimport { Router } from \"../gameclosure/router/router\";\r\nimport { ImageFactory } from \"../gameclosure/factories/imageFactory\";\r\nimport { DisplayComponentFactory } from \"../gameclosure/factories/display/displayComponentFactory\";\r\nimport { Store } from \"../gameclosure/store/store\";\r\nimport { GameState } from \"./store/gameState\";\r\nimport { RouterOptionType } from \"../gameclosure/router/routerOption\";\r\nimport { Intro } from \"./views/intro\";\r\nimport { Companies } from \"./views/companies\";\r\nimport { Managers } from \"./views/managers\";\r\nimport { CompanyManager } from \"./managers/companyManager\";\r\nimport { LocalStore } from \"../gameclosure/store/localStore\";\r\n\r\nexport class AdventureCapitalist {\r\n    private _storage: LocalStore;\r\n    private _companyManager: CompanyManager;\r\n\r\n    constructor() {\r\n        gsap.registerPlugin(PixiPlugin);\r\n        this.startGame();\r\n    }\r\n\r\n    private async startGame() {\r\n        var resources: any = \r\n            await Game.loadAssets([{\r\n                id: \"sprites\",\r\n                url: \"./assets/sprites.json\"\r\n            }, {\r\n                id: \"config\",\r\n                url: \"./assets/config.json\"\r\n            }\r\n        ]);\r\n\r\n        Game.setupRender({ \r\n            width: 472, \r\n            height: 840,                       \r\n            antialias: true, \r\n            transparent: false, \r\n            resolution: 1,\r\n            backgroundColor: 0xFFFFFF,\r\n        });\r\n\r\n        var displayFactory: DisplayComponentFactory = this.configDisplayFactory();\r\n        var router: Router = this.configRouter();\r\n        var store: Store<GameState> = this.configStore(resources.config);\r\n        \r\n        Game.init(displayFactory, router, store);\r\n        router.init();\r\n\r\n        this._companyManager = new CompanyManager();\r\n\r\n        this.startTick();\r\n    }\r\n\r\n    private startTick() {\r\n        this.resize();\r\n        window.addEventListener('resize', this.resize.bind(this));\r\n\r\n        Game.app.ticker.add(this.update.bind(this));\r\n    }\r\n\r\n    private update() {\r\n        this._companyManager.update();\r\n        Game.router.update();\r\n        Game.store.commit();\r\n    }\r\n\r\n    private configDisplayFactory() {\r\n        return new DisplayComponentFactory(new ImageFactory());\r\n    }\r\n\r\n    private configStore(config: any):Store<GameState> {\r\n        this._storage = new LocalStore(\"adventure\", 2);\r\n        var gameState: GameState = this._storage.retrive() || config.data;\r\n\r\n        var store:Store<GameState> = new Store<GameState>(gameState);\r\n        store.storage = this._storage;\r\n\r\n        return store;\r\n    }\r\n\r\n    private configRouter(): Router {\r\n        return new Router(\r\n            Game.app.stage, \r\n            [{\r\n                path: \"intro\",\r\n                \r\n                type: RouterOptionType.NORMAL,\r\n                component: Intro\r\n            }, {\r\n                isDefault: true,\r\n                path: \"companies\",\r\n                type: RouterOptionType.NORMAL,\r\n                component: Companies\r\n            }, {\r\n                path: \"managers\",\r\n                type: RouterOptionType.MODAL,\r\n                component: Managers\r\n            }\r\n        ]);\r\n    }\r\n\r\n    private resize() {\r\n        Game.app.renderer.view.style.position = 'absolute';\r\n        Game.app.renderer.view.style.left = ((window.innerWidth - Game.app.renderer.width) >> 1) + 'px';\r\n        Game.app.renderer.view.style.top = ((window.innerHeight - Game.app.renderer.height) >> 1) + 'px';\r\n    } \r\n}","enum LoadEvent { LOAD_COMPLETE = \"loadComplete\" }\r\nenum ViewEvent { VIEW_OPENED = \"vieOpened\", VIEW_DESTROYED = \"viewDestroyed\" }\r\n","import { Reusable } from \"./reusable\";\r\n\r\nexport class Pool {\r\n    private static _instance:Pool;\r\n    \r\n    protected _reusablesFree:Array<Reusable>;\r\n    protected _reusablesUsed:Array<Reusable>;\r\n    \r\n    private constructor() {\r\n        this._reusablesFree = new Array<Reusable>();\r\n        this._reusablesUsed = new Array<Reusable>();\r\n    }\r\n    \r\n    public static get instance(): Pool {\r\n        if (!Pool._instance) {\r\n            Pool._instance = new Pool();\r\n        }\r\n        \r\n        return Pool._instance;\r\n    }\r\n    \r\n    public addReusable(reusable: Reusable): void {\r\n        this._reusablesFree.push(reusable);\r\n    }\r\n    \r\n    public acquire(id: string): Reusable {\r\n        var length: number = this._reusablesFree.length;\r\n        var reusable: Reusable;\r\n        \r\n        for (var i: number = 0; i < length; i++) {\r\n            if (this._reusablesFree[i].id == id) {\r\n                reusable = this._reusablesFree.splice(i, 1)[0];\r\n                this._reusablesUsed.push(reusable);\r\n                \r\n                return reusable;\r\n            }\r\n        }\r\n        \r\n        return null;\r\n    }\r\n    \r\n    public release(reusable: Reusable): void\r\n    {\r\n        var length: number = this._reusablesUsed.length;\r\n        \r\n        for (var i: number = 0; i < length; i++) {\r\n            if (this._reusablesUsed[i] == reusable) {\r\n                this._reusablesFree.push(this._reusablesUsed.splice(i, 1)[0]);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public releaseAll(): void {\r\n        var length: number = this._reusablesUsed.length;\r\n        \r\n        for (var i: number = 0; i < length; i++) {\r\n            this._reusablesFree.push(this._reusablesUsed[i]);\r\n        }\r\n\r\n        this._reusablesUsed = new Array<Reusable>();\r\n    }\r\n}"]}